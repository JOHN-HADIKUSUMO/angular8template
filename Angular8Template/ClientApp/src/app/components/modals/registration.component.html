<ng-template #content let-modal>
  <form [formGroup]="registrationForm">
    <div class="modal-header">
      <h4 class="modal-title" style="position:relative;left:40%;" id="modal-basic-title">Registration</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <label for="email"><b>Firstname</b></label>
        <div class="input-group">
          <input type="text" formControlName="firstname" class="form-control" placeholder="john" [ngClass]="{ 'is-invalid': (f.firstname.errors != null) && f.firstname.touched}">
        </div>
        <div *ngIf="(f.firstname.errors != null) && f.firstname.touched" class="invalid-feedback d-block">
          <span>Firstname is required</span>
        </div>
      </div>
      <div class="form-group">
        <label for="email"><b>Lastname</b></label>
        <div class="input-group">
          <input type="text" formControlName="lastname" class="form-control" placeholder="doe" [ngClass]="{ 'is-invalid': (f.lastname.errors != null) && f.lastname.touched}">
        </div>
        <div *ngIf="(f.lastname.errors != null) && f.lastname.touched" class="invalid-feedback d-block">
          <span>Lastname is required</span>
        </div>
      </div>
      <div class="form-group">
        <label for="position">
          <b>Position</b>
        </label>
        <div class="input-group">
          <select formControlName="position" (change)="changePosition($event)">
            <option value="">Select Position</option>
            <option *ngFor="let item of positions">
              {{item}}
            </option>
          </select>
        </div>
        <div *ngIf="f.position.errors?.required && f.position.touched" class="invalid-feedback d-block">
          <span>Position is required</span>
        </div>
      </div>
      <div class="form-group">
        <label for="email"><b>Age</b></label>
        <div class="input-group">
          <input type="text" formControlName="age" class="form-control" placeholder="18" [ngClass]="{ 'is-invalid': (f.age.errors != null && (f.age.errors.required || f.age.errors.isNotNumeric || f.age.errors.isUnderAge)) && f.age.touched}">
        </div>
        <div *ngIf="(f.age.errors != null && f.age.errors.required) && f.age.touched" class="invalid-feedback d-block">
          <span>Age is required</span>
        </div>
        <div *ngIf="(f.age.errors != null && f.age.errors.isNotNumeric) && f.age.touched" class="invalid-feedback d-block">
          <span>Age must be a numeric</span>
        </div>
        <div *ngIf="(f.age.errors != null && f.age.errors.isUnderAge) && f.age.touched" class="invalid-feedback d-block">
          <span>Age must be 18 or above</span>
        </div>
      </div>
      <div class="form-group">
        <label for="email"><b>Email</b></label>
        <div class="input-group">
          <input type="text" formControlName="email" class="form-control" placeholder="john.doe@gmail.com" [ngClass]="{ 'is-invalid': (f.email.errors != null) && f.email.touched}">
        </div>
        <div *ngIf="(f.email.errors != null) && f.email.touched" class="invalid-feedback d-block">
          <span>Email is required</span>
        </div>
      </div>
      <div class="form-group">
        <label for="password"><b>Password</b></label>
        <div class="input-group">
          <input type="password" formControlName="password" class="form-control" placeholder="password" [ngClass]="{ 'is-invalid': (f.password.errors != null)  && f.password.touched}">
        </div>
        <div *ngIf="(f.password.errors!=null) && f.password.touched" class="invalid-feedback d-block">
          <span>Password is required</span>
        </div>
      </div>
      <div class="form-group">
        <label for="password"><b>Con Password</b></label>
        <div class="input-group">
          <input type="password" formControlName="conpassword" class="form-control" placeholder="confirm password" [ngClass]="{ 'is-invalid': f.conpassword.errors != null && (f.conpassword.errors.required || f.conpassword.errors.mustMatch) && f.conpassword.touched}">
        </div>
        <div *ngIf="f.conpassword.errors != null && f.conpassword.errors.required && f.conpassword.touched" class="invalid-feedback d-block">
          <span>Confirm Password is required</span>
        </div>
        <div *ngIf="f.conpassword.errors != null && f.conpassword.errors.mustMatch && f.conpassword.touched" class="invalid-feedback d-block">
          <span>Confirm Password and Password are not matched</span>
        </div>
      </div>
      <div *ngIf="message!=null" class="form-group">
        <div class="invalid-feedback text-center d-block">
          <span>{{message}}</span>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-dark" (click)="onClear()">Clear</button>
      <button type="button" class="btn btn-dark" [disabled]="registrationForm.invalid" (click)="onSubmit()">Submit</button>
    </div>
  </form>
</ng-template>

